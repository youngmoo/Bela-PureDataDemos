#N canvas 160 23 664 539 10;
#X floatatom 39 101 5 0 0 0 - - -;
#X obj 308 93 loadbang;
#X msg 308 114 hw 0 0 0;
#X obj 308 135 send bela_setMidi;
#X obj 92 394 select 60 62 64 65 67 69 71 72;
#X msg 53 423 10;
#X msg 92 424 30;
#X msg 128 423 50;
#X floatatom 134 489 5 0 0 0 - - -;
#X obj 134 465 value note_angle;
#X obj 200 235 expr note_angle;
#X msg 351 425 0;
#X obj 239 262 print note_angle;
#X obj 449 133 s bela_setDigital;
#X obj 449 94 loadbang;
#X obj 358 312 dac~ 20;
#X obj 201 303 servo_angle;
#X obj 357 267 servo_angle;
#X obj 201 326 dac~ 18;
#X msg 449 114 out 18 ~ \, out 20 ~;
#X obj 500 200 loadbang;
#X msg 412 234 0;
#X msg 357 235 100;
#X obj 413 195 delay 100;
#X obj 200 180 delay 1;
#X msg 165 423 65;
#X msg 201 423 80;
#X msg 236 423 100;
#X msg 121 277 10;
#X obj 121 235 loadbang;
#X obj 121 256 delay 250;
#X msg 308 425 135;
#X msg 270 423 118;
#X obj 332 194 delay 300;
#X text 347 390 Map MIDI note numbers to servo angles, f 21;
#X text 380 46 Initialization;
#X text 199 347 Note servo;
#X text 355 332 Mallet servo;
#X text 28 78 note;
#X text 207 197 Wait for servo angle, f 11;
#X text 118 172 Init servo (wait for other servo to lift mallet),
f 11;
#X text 498 218 Init: Lift mallet servo, f 12;
#X obj 91 77 inlet;
#X obj 199 77 inlet;
#X text 78 50 MIDI note;
#X text 174 51 Trigger (bang);
#X obj 217 125 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 305 64 Bela: Set MIDI input to computer, f 18;
#X text 446 64 Bela: Set servos to digital outs 18 (D7) and 20 (D9).
, f 27;
#X text 108 9 Positions servos based on MIDI note for basic xylophone
control by Bela (used in Pitch_MIDI_Servo), f 72;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 7 0;
#X connect 4 3 25 0;
#X connect 4 4 26 0;
#X connect 4 5 27 0;
#X connect 4 6 32 0;
#X connect 4 7 31 0;
#X connect 4 8 11 0;
#X connect 5 0 9 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 9 0 8 0;
#X connect 10 0 12 0;
#X connect 10 0 16 0;
#X connect 11 0 9 0;
#X connect 14 0 19 0;
#X connect 16 0 18 0;
#X connect 17 0 15 0;
#X connect 19 0 13 0;
#X connect 20 0 21 0;
#X connect 21 0 17 0;
#X connect 23 0 21 0;
#X connect 24 0 10 0;
#X connect 25 0 9 0;
#X connect 26 0 9 0;
#X connect 27 0 9 0;
#X connect 28 0 16 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 31 0 9 0;
#X connect 32 0 9 0;
#X connect 33 0 22 0;
#X connect 33 0 23 0;
#X connect 42 0 4 0;
#X connect 42 0 0 0;
#X connect 43 0 24 0;
#X connect 43 0 33 0;
#X connect 43 0 46 0;
